---
const currentPath = Astro.url.pathname;

const navItems = [
  { name: "Inicio", href: "/" },
  { name: "DefiniciÃ³n", href: "/about" },
  { name: "Causas", href: "/causas" },
  { name: "Consecuencias", href: "/consecuencias" },
  { name: "Mosaico", href: "/mosaico" },
];

const isActive = (href: string) => {
  return currentPath === href;
};
---

<nav class="bg-primary shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6">
    <div class="flex flex-wrap justify-center gap-3 py-4 text-sm font-medium">
      {
        navItems.map((navItem) => (
          <a
            href={navItem.href}
            aria-current={isActive(navItem.href) ? "page" : undefined}
            class={`nav-link relative px-2 py-1 transition-colors duration-300
            ${
              isActive(navItem.href)
                ? "text-white font-semibold"
                : "text-white/80 hover:text-white"
            }`}
          >
            {navItem.name}
          </a>
        ))
      }
    </div>
  </div>
</nav>

<style>
  .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -6px;
    width: 100%;
    height: 3px;
    background: white;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 0.25s ease;
    border-radius: 999px;
  }

  .nav-link:hover::after {
    transform: scaleX(1);
  }

  .nav-link[aria-current="page"]::after {
    transform: scaleX(1);
  }
</style>
